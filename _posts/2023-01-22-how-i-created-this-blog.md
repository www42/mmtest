---
title:  "How I created this blog"
date:   2023-01-22 22:35:50 +0100
categories: jekyll ruby
toc: true
related: false
---

# Prerequisites

* Because Jekyll is a Ruby gem you need an up-to-date version of Ruby. On MacOS don't use Apple's outdated version 2 of Ruby. There is a bunch of Ruby managers - I used `chruby` to install Ruby, see [here](https://www.moncefbelyamani.com/how-to-install-xcode-homebrew-git-rvm-ruby-on-mac/).
* To install Jekyll follow the instructions on [Jekyll docs](https://jekyllrb.com/docs/installation/).
* Check if you are ready to go

```bash
jekyll -v
``` 


# Create the Jekyll project

```bash
jekyll new Blog
```
This create a new folder **Blog** with some files
* `Gemfile`
* `Gemfile.lock`
* `_config.yml`
* `index.markdown`
* `about.markdown`

and a `_posts` folder.



Add required gems to Gemfile
```ruby
source "https://rubygems.org"
gem "jekyll", "~> 4.3.2"
gem "minimal-mistakes-jekyll"
gem "webrick", "~> 1.7"
gem "jekyll-include-cache"
```

```bash
bundle add jekyll --version "~>4.2"
bundle config set --local path 'vendor/bundle'
bundle install
bundle exec jekyll new --force --skip-bundle .
bundle add webrick
bundle install
bundle update
```

```bash
bundle exec jekyll serve --livereload
```

Open browser at `http://127.0.0.1:4000/` you should see the test web site.


# Use Minimal Mistakes as a Gem based theme

See [MM on Github](https://github.com/mmistakes/minimal-mistakes)

Add following line to `Gemfile`

```bash
gem "minimal-mistakes-jekyll"
```

```bash
bundle
bundle update
```

Set in `_config.yml`

```bash
theme: minimal-mistakes-jekyll
```

Set in `index.md`

```bash
---
layout: home
author_profile: true
---
```

# Tips and tricks

## Use permalinks!

[Permalinks](https://jekyllrb.com/docs/permalinks/) are the output path for your pages and post. [Use a single folder](https://mmistakes.github.io/minimal-mistakes/docs/pages/) to store all pages centrally and put them individually at the right output path via the permalink mechanism.

## Don't touch the `_site` folder!

The `_site`folder contains the complete static web site generated by jekyll.

| `jekyll build` | one-time construction of the site | 
| `jekyll serve` | contruct the site every time a source file changes <br> and serve it locally | 

## Kramdown supports tables without headers

Most Markdown parser require a table header definition

```bash
| foo            | bar                               | 
| -------------- | --------------------------------- | 
| `jekyll build` | one-time construction of the site | 
```

In Kramdown used by Jekyll it's fine to omit the header and separation line

```bash
| `jekyll build` | one-time construction of the site | 
```

## Understand Ruby's Pessimistic Operator `~>`

In a `Gemfile`

```bash
gem "webrick", "~> 1.7"
```

means `bundle install` will install the highest version of `webrick` between the range `>= 1.7` and `< 2.0`.
See [Dan Croak](https://thoughtbot.com/blog/rubys-pessimistic-operator).


## When is  `bundle update` useful? And what is `Gemfile.lock`?

See [bundler docs](https://bundler.io/v1.13/man/bundle-update.1.html)

> The update command will ignore the Gemfile.lock and use the latest versions of each gem in the Gemfile.

## Info on a particular gem

```bash
bundle info webrick
bundle info minimal-mistakes-jekyll
```